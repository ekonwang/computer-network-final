# 物理层

## 概述

物理层解决如何在连接各种计算机的传输媒体上传递数据比特流，而不是指具体的传输媒体。

物理层的主要任务：确定与传输媒体接口有关的一些特性。**定义标准**

### 经典数据传输模型

计算机处理的是二进制数字信号，但是实际上在网络中传输的是模拟信号。

> 数字信号与模拟信号的区别：前者表现为离散的信号比如01串，而后者表现为连续的波形，比如无线电波。

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/截屏2022-01-01 下午9.11.54.png" style="zoom:50%;" />

### 数据传输形式

#### 并行

速度快，费用高，适合短距离传输。

比如VGA接口（视频传输）。

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/物理层-并行传输.png" style="zoom:50%;" />

#### 串行

速度慢，费用低，适合长距离传输。

比如信号在光纤中的传播。



## 物理层基本概念

### 码元

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/截屏2022-01-01 下午9.33.20.png" style="zoom:50%;" />

### 速率

速率也叫数据率，也指数据的传输速率，表示单位时间内的传输数据量。

1）码元的传输速率，用单位时间内传输的码元个数衡量，单位是**<u>波特(Baud)</u>**。这里的码元可以是二进制也可以是多进制，码元传输速率与进制无关。

2）信息的传输速率：别名信息速率、比特率，表示单位时间内数字通信系统传输的二进制码元个数（即比特数），单位是比特/秒 (b/s)。

<u>二者关系：</u> 若一个码元有 $k$ 个离散状态，且波特率是 $M$，则信息传输速率是 $M~log_2k$。

带宽就是指网络某点到另一点的“最高通信速率”，单位是 bps。



## 奈氏准则和香农定理

### 奈奎斯特定理

#### 码间串扰

一种<u>失真</u>的现象。接收端收到的信号波形失去了码元间清晰界限的现象。

影响信号失真的因素：

1. 码元传输速率
2. 信号传输距离
3. 噪声干扰
4. 传输媒体质量

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/码间串扰.png" style="zoom:50%;" />

并不是所有频率都能通过电话线，频率过低没有办法通过电话线，频率过高导致没有办法识别清晰的波形（即**<u>码间串扰</u>**），码元之间的距离过短。

**奈氏准则：** 在理想低通条件下，为了避免码间串扰，极限码元传输速率为 $2W~Baud$，$W$ 代表信道带宽，单位是 $Hz$ 。极限数据率是 $2Wlog_2V~bps$。

> 低通条件：无噪声，带宽受限。
>
> 只有在奈氏准则和香农定理中，带宽的单位才用赫兹。一般而言的带宽单位都是bps。
>
> 信道带宽(单位：赫兹) 的标准计算方法：能够通过信道的最高频率 - 能够通过信道的最低频率，在这里的例子中，带宽为 3300 - 300 = 3000 Hz。

- 在任何信道中，码元的传输速率都有所上限。若传输速率超过此上限，就会出现严重的码间串扰问题，使得接收端对码元的识别成为完全不可能。
- 信道的频带越宽（即能通过的信号高频）分量，就越可以更快地码元传输。
- 奈氏准则则给出了码元传输速率的限制，但没有对信息传输速率给出限制。

> 香农定理补充了这方面。

- 由于码元的传输速率，所以要提高数据的传输速率，就应当设法让每个码元携带更多比特的信息量，这里就需要采用多元调制的方法，教材里介绍了[<u>星座图</u>](https://zh.wikipedia.org/wiki/星座图_(数字通信))**【考点】**。

### 香农定理

 **噪声**存在于所有电子设备和通信信道中。

由于噪声随机产生，它的瞬时值有时会很大，因此噪声会使接收端对码元的判决产生错误。但噪声对信息传输的影响是相对的，如果信道传输的功率足够大，噪声的存在也不会影响正常传输。因此，<u>信噪比</u>很重要。
$$
信噪比 (dB)~=~10log_{10}(S/N)
$$
**香农定理**：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。

信道的极限数据传输速率：
$$
Wlog_2(1+S/N)
$$


- 奈氏准则：解决内忧（码间串扰问题）。
- 香农定理：解决外患（噪声干扰）。
- 通常极限信息传输速率取二者计算出的下限。

> 如果给了信噪比/分贝形式信噪比，就需要计算香农极限
>
> 如果给了码元离散状态数，需要计算奈氏极限
>
> 如果二者都给，取下限。

## 调制与编码

**信道:** 信道的传输媒介. 一般用来表示向某一个方向传送信息的介质, 因此一条通信线路往往包含一条发送信道和一条接收信道.

**信道上传输的信号:** 

- 基带信号 <u>**直接表达了要传输的信息, 比如计算机的二进制信息或者人说话的声波**</u>
- 宽带信号 将基带信号进行调制之后形成的频分复用模拟信号, 再传送到模拟信道上去传输. 把基带信号经过载波调制之后, 把信号的频率范围搬移到<u>较高的频段</u>以便再信道中传输.

**编码与调制**

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/截屏2022-01-06 下午7.55.13.png" style="zoom:53%;" />

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/截屏2022-01-06 下午7.55.58.png" style="zoom:50%;" />

###  常见编码归纳

#### (1) 非归零编码 NRZ

高1低0, 编码容易实现.

**缺点**

1. 没有检错机制
2. 缺乏同步机制

#### (2)曼彻斯特编码

在一个时槽中, 信号变化两次

高 $\rightarrow$ 低 : 1

低 $\rightarrow$ 高 : 0

#### (3)差分曼彻斯特编码

如果为1, 就和前面码元不同

如果为0, 就和前面码元相同

#### (4)归零编码 RZ

一个码元内需要电平归零

对于1码元, 就是高$\rightarrow$低编码, 对于0码元, 就是一直低电平

#### (5)反向不归零 NRZI

信号翻转表示0, 如果电平不变就表示1.

#### (6) MLT-3

为1, 就和前面电平不同, 低 $\rightarrow$ 高 或者 高 $\rightarrow$ 低. 至于为负还是为正, 取决之前出过的<u>最晚非0电平</u>.

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/截屏2022-01-06 下午8.06.51.png" style="zoom:33%;" />

## 物理层设备

### 中继器

#### 作用 

对信号<u>再生与还原</u>，对衰减的信号进行放大，保持与原数据相同。

#### 5-4-3规则

- 5个网段

- 4个集线器/转发器

- 3个段才可以连接工作站

### 集线器

#### 功能

对信号<u>转发放大</u>，对衰减的信号放大，接着转发到所有接收端口以外的工作中端口，以增加信号传输的距离，延长网络长度。

<img src="https://cdn.jsdelivr.net/gh/ekonwang/images@master/img/截屏2022-01-01 上午11.56.00.png" style="zoom:50%;" />



